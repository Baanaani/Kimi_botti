require("dotenv").config();
console.log(process.env)
//const { generateDependencyReport } = require('@discordjs/voice');
//console.log(generateDependencyReport());
const { Client, Events, GatewayIntentBits } = require('discord.js');
const { createReadStream } = require('node:fs');
const { join } = require('node:path');
const { createAudioResource, createAudioPlayer, StreamType } = require('@discordjs/voice');
const player = createAudioPlayer();

const client = new Client({ intents:[
        GatewayIntentBits.Guilds,
        GatewayIntentBits.GuildMembers,
        GatewayIntentBits.GuildMessages,
        GatewayIntentBits.GuildVoiceStates,
        GatewayIntentBits.MessageContent ], });

client.once(Events.ClientReady, c => {
    console.log(`âœ… ${c.user.tag} is online`)
});

let resource = createAudioResource(join(__dirname, 'file.mp3'));

resource = createAudioResource(join(__dirname, 'file.mp3'), { inlineVolume: true });
resource.volume.setVolume(0.5);

resource = createAudioResource(createReadStream(join(__dirname, 'file.ogg'), {
	inputType: StreamType.OggOpus,
}));

resource = createAudioResource(createReadStream(join(__dirname, 'file.webm'), {
	inputType: StreamType.WebmOpus,
	inlineVolume: true,
}));

player.play(resource);

client.login(process.env.TOKEN);
